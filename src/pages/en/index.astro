---


import BaseLayout from '@layouts/BaseLayout.astro';

import mailImg from '@images/svg/email.svg';
import Code from '@components/Code.astro';

import { Icon } from 'astro-icon';
import { Sprite } from 'astro-icon';

const pageTitle = "Evgeniy Beskrovnyy";
---

<BaseLayout title={pageTitle}>
  
  <h1 class="h1">üëã Welcome!</h1>
  <p>My name is Evgeniy, and I‚Äôm 36 years old. I‚Äôm a front-end web developer who loves HTML/CSS coding, templating, JavaScript programming and UX. I am a T-shaped person. The field in which I have the most skills is HTML/CSS-coding and JavaScript programming.</p>

  <p>–¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å–ø—Ä–∞–π—Ç–∞ –∏ svg-–∏–∫–æ–Ω–∫–∏</p>
  <Icon name="lang" width="44" height="44" aria-hidden="true" class="icon" />
  
  <Sprite name="instagram" /> 
  <Sprite name="phone" />

  <img src={mailImg.src} alt="–¢–µ—Å—Ç –∏–∫–æ–Ω–∫–∏ –ø–æ—á—Ç—ã">

  <h1>–ü–æ–∏—Å–∫</h1>

  <div class="search">
    <input id="search" type="text" placeholder="–ß—Ç–æ –±—É–¥–µ–º-—Å –∏—Å–∫–∞—Ç—å?" class="search__control">
    <div id="search-results" class="search__results results" />
  </div>

  <script is:inline>
    const searchField = document.querySelector('#search');
    searchField?.addEventListener('input', async (e) => {
      // only load the pagefind script once
      if (e.target.dataset.loaded !== 'true') {
        e.target.dataset.loaded = 'true'
        // load the pagefind script
        window.pagefind = await import("/pagefind/pagefind.js");
      }

      // search the index using the input value
      const search = await window.pagefind.search(e.target.value)
      const searchResults = document.querySelector('#search-results');

      // clear the old search-results
      searchResults.innerHTML = ''

      if(search.results.length !== 0) {
        // add the new search-results
      for (const result of search.results) {
        const data = await result.data();

        searchResults.innerHTML += `
          <a href="${data.url}" class="results__item">
            <h3 class="results__title">${data.meta.title}</h3>
            <p class="results__text">${data.excerpt}</p>
          </a>`
        
      }
      } else if (search.results.length === 0 && searchField.value != '') {
        searchResults.innerHTML += `
          <div class="results__empty">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ!</div>`
      }

    })
  </script>

  <Code language="html" codeRaw={
    `
    <script>
      const foo = 'bar';

      if(foo === 'bar') {
        alert('Yep!');
      }
    
    </script>
    `
    } caption="<p>I am happy to be learning Astro!</p>" />

</BaseLayout>
